<toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':true}">
</toaster-container>
<div ng-controller="zonasCtrl" ng-init="init()">
	<div class="bg-light lter b-b wrapper-md">
		<h1 class="m-n font-thin h4">
			<i class="fa fa-cubes"></i>
			Zonas
		</h1>
	</div>
	<div class="wrapper-md">
		<div class="panel panel-info">
			<div class="panel-heading">
				<div class="form-inline ng-pristine ng-valid">
					<span>
						<label>
							Empresas:
						</label>
						<select ng-model="empresa" ng-change="cargarRutas();">
							<option value="">
								Selecione una empresa
							</option>
						    <option ng-repeat="e in empresas" value="{{ e.id }}">
						    	{{ e.nombre }} ({{ e.codigoCooperativa }})
						    </option>
						</select>
					</span>
					&nbsp;
					<span>
						<label>
							Ruta:
						</label>
						<select ng-model="ruta" ng-change="cargarZonas();">
							<option value="">
								Selecione una ruta
							</option>
						    <option ng-repeat="r in rutas" value="{{ r.codigo }}">
						    	{{ r.codigo }}: {{ r.nombre }} ({{ r.identificador }})
						    </option>
						</select>
					</span>
					&nbsp;
					<span>
						<button class="btn btn-sm btn-success" ng-click="cargarZonas();">
							Buscar
						</button>
					</span>
				</div>
			</div>

			<div class="col-md-12">
				<table class="table table-striped m-b-none">
					<thead>
						<tr>
							<th></th>
							<th>#</th>
							<th>Nombre</th>
							<th>Tipo</th>
							<th>Orden</th>
							<th>Tiempo (minutos)</th>
							<th>Zona Muerta</th>
							<th>Terminal Principal</th>
							<th>Acciones</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="z in zonas">
							<td style="vertical-align:middle;">
								<button ng-click="actualizarNotaPedido(g,i)"
									class="btn btn-sm btn-info">
									<i class="fa fa-check"></i>
								</button>
							</td>
							<td style="vertical-align:middle;">
								{{ $index+1 }}
							</td>
							<td style="vertical-align:middle;">
								{{ z.nombre }}
							</td>
							<td style="vertical-align:middle;">
								{{ z.tipoZona.nombre }} ({{ z.tipoZona.identificador }})
							</td>
							<td style="vertical-align:middle;">
								{{ z.orden }}
							</td>
							<td style="vertical-align:middle;">
								{{ z.tiempo }}
							</td>
							<td style="vertical-align:middle;">
							</td>
							<td style="vertical-align:middle;">
								<span ng-if="z.inicioZona">
									Si
								</span>
								<span ng-if="!z.inicioZona">
									No
								</span>
							</td>
							<td style="vertical-align:middle;">
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>